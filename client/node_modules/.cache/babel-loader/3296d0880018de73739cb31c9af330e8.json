{"ast":null,"code":"var _jsxFileName = \"/home/noura/pull-push1/client/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport axios from 'axios';\nimport './index.js';\nlet id = Math.ceil(Math.random() * 10000);\n\nconst App = props => {\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  useEffect(() => {\n    axios.get('http://localhost:5200/subscribers', {\n      id\n    }).then(res => {\n      setMessages(messages.concat(res.data));\n    });\n  }, []); //[] to call it once \n\n  const handleChange = e => {\n    const {\n      target: {\n        value\n      }\n    } = e;\n    setInput(value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    axios.post('http://localhost:5200/messageSubscribers', {\n      content: input\n    }).then(() => setInput(''));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"App-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    name: \"publish\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    id: \"content\",\n    type: \"text\",\n    name: \"content\",\n    onChange: handleChange,\n    onSubmit: handleSubmit,\n    value: input.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"subscribe\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }\n  }, messages.map(m => /*#__PURE__*/React.createElement(\"h1\", {\n    key: m.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 38\n    }\n  }, \" \", m.content, \" \")))));\n};\n\nexport default App;","map":{"version":3,"sources":["/home/noura/pull-push1/client/src/App.js"],"names":["React","useState","useEffect","axios","id","Math","ceil","random","App","props","messages","setMessages","input","setInput","get","then","res","concat","data","handleChange","e","target","value","handleSubmit","preventDefault","post","content","map","m"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;;AAEA,OAAO,WAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,YAAP;AAEA,IAAIC,EAAE,GAAGC,IAAI,CAACC,IAAL,CAAUD,IAAI,CAACE,MAAL,KAAc,KAAxB,CAAT;;AAEA,MAAMC,GAAG,GAAGC,KAAD,IAAW;AACjB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BV,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACW,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAAC,EAAD,CAAlC;AACLC,EAAAA,SAAS,CAAE,MAAK;AACdC,IAAAA,KAAK,CAACW,GAAN,CAAU,mCAAV,EAA8C;AAACV,MAAAA;AAAD,KAA9C,EAAoDW,IAApD,CAA0DC,GAAD,IAAO;AAC9DL,MAAAA,WAAW,CAACD,QAAQ,CAACO,MAAT,CAAgBD,GAAG,CAACE,IAApB,CAAD,CAAX;AACD,KAFD;AAGD,GAJQ,EAIP,EAJO,CAAT,CAHsB,CAOhB;;AAED,QAAMC,YAAY,GAAIC,CAAD,IAAM;AACzB,UAAK;AAACC,MAAAA,MAAM,EAAC;AAACC,QAAAA;AAAD;AAAR,QAAmBF,CAAxB;AACAP,IAAAA,QAAQ,CAACS,KAAD,CAAR;AACD,GAHD;;AAKA,QAAMC,YAAY,GAAIH,CAAD,IAAO;AAC1BA,IAAAA,CAAC,CAACI,cAAF;AACArB,IAAAA,KAAK,CAACsB,IAAN,CAAW,0CAAX,EAAsD;AAACC,MAAAA,OAAO,EAAEd;AAAV,KAAtD,EAAwEG,IAAxE,CAA6E,MAAKF,QAAQ,CAAC,EAAD,CAA1F;AAEC,GAJH;;AAKC,sBACG;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACH;AAAQ,IAAA,SAAS,EAAC,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAM,IAAA,IAAI,EAAC,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACM;AAAO,IAAA,EAAE,EAAC,SAAV;AAAqB,IAAA,IAAI,EAAC,MAA1B;AAAiC,IAAA,IAAI,EAAC,SAAtC;AAAgD,IAAA,QAAQ,EAAEM,YAA1D;AAAwE,IAAA,QAAQ,EAAEI,YAAlF;AAAgG,IAAA,KAAK,EAAEX,KAAK,CAACc,OAA7G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADN,eAGM;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHN,CADA,eAOI;AAAK,IAAA,EAAE,EAAC,WAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACShB,QAAQ,CAACiB,GAAT,CAAaC,CAAC,iBAAI;AAAI,IAAA,GAAG,EAAEA,CAAC,CAACF,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAsBE,CAAC,CAACF,OAAxB,MAAlB,CADT,CAPJ,CADG,CADH;AAeA,CAlCN;;AAqCA,eAAelB,GAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport axios from 'axios';\nimport './index.js';\n\nlet id = Math.ceil(Math.random()*10000);\n\nconst App= (props) => {\n     const [messages, setMessages] = useState([])\n     const [input, setInput] = useState('');\nuseEffect (()=> {\n  axios.get('http://localhost:5200/subscribers',{id}).then((res)=>{\n    setMessages(messages.concat(res.data));\n  })\n},[]) //[] to call it once \n\n     const handleChange = (e) =>{\n       const{target:{value}} = e\n       setInput(value)\n     }\n\n     const handleSubmit = (e) => {\n       e.preventDefault();\n       axios.post('http://localhost:5200/messageSubscribers',{content: input}).then(()=> setInput(''))\n\n       }   \n      return(\n         <div className=\"App\">\n      <header className=\"App-header\">\n      <form name=\"publish\">\n            <input id=\"content\"  type=\"text\" name=\"content\" onChange={handleChange} onSubmit={handleSubmit} value={input.content} />\n            \n            <input type=\"submit\" />\n          </form>\n\n          <div id=\"subscribe\">\n                  {messages.map(m => <h1 key={m.content}> {m.content} </h1>)}\n          </div>\n      </header>\n    </div>\n  );\n     }\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}